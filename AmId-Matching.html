<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Vocabulary Matching</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,system-ui,sans-serif;color:#333;}
body{background:#f8fafc;min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px}
.wrapper{position:relative;width:1000px;display:flex;justify-content:center;gap:200px;margin-top:20px;align-items:flex-start;}
.column{width:45%;display:flex;flex-direction:column;}
.item{
  background:#f8fafc;
  border:2px solid #e2e8f0;
  border-radius:6px;
  padding:0px;
  margin-bottom:12px;
  cursor:pointer;
  font-weight:600;
  font-size: 20px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  word-wrap: break-word;
  white-space: normal;
  min-height: 80px;
}
.item.used{opacity:.4;pointer-events:none}
.item.active{background:#e8f4fd;border-color:#538e9b}
.item.shake{animation:shake .4s}

/* –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –ª–µ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ - —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ */
.left-item {
  display: flex;
  align-items: center;
justify-content: flex-start;
width: 100%;
  height: 100%;
  padding: 7px;
  gap: 30px;
}
.word-photo {
  width: 100px;
  height: 60px;
  object-fit: cover;
  border-radius: 6px;
  flex-shrink: 0;
  margin-left: 40px;
}
.word-text {
  font-size: 20px;
  font-weight: 600;
  text-align: center;
    flex-shrink: 0;

}

/* –°—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–∞–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
.right-item {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  width: 100%;
  font-size: 20px;
  font-weight: 600;
  text-align: center;
  padding: 7px;
}

@keyframes shake{0%{transform:translateX(0)}25%{transform:translateX(-5px)}50%{transform:translateX(5px)}75%{transform:translateX(-5px)}100%{transform:translateX(0)}}
svg{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}
#message{margin-top:20px;font-size:1.2rem;font-weight:600;color:#538e9b}
</style>
</head>
<body>

<h2>Vocabulary Matching</h2>
<p style="font-size:1.1rem;font-weight:600;text-align:center">
Match each word with its translation.
</p>

<div class="wrapper" id="wrapper">
  <svg id="lines"></svg>
  <div class="column" id="left"></div>
  <div class="column" id="right"></div>
</div>

<div id="message"></div>

<script>
const allPairs = [
  {
    id: 1,
    left: "<div class='left-item'><img src='https://avatars.mds.yandex.net/i?id=71cae8bf22cd676fbb9f584496268b9ad54990ff-6419094-images-thumbs&n=13' class='word-photo' alt='Traffic'><div class='word-text'>traffic</div></div>",
    right: "–¥–≤–∏–∂–µ–Ω–∏–µ"
  },
  {
    id: 2,
    left: "<div class='left-item'><img src='https://armada-stroy.by/wp-content/uploads/blagoustroystvo-territorii-organizaciya-parkovochnykh-mest-2.jpg' class='word-photo' alt='Parking lot'><div class='word-text'>parking lot</div></div>",
    right: "–ø–∞—Ä–∫–æ–≤–∫–∞"
  },
  {
    id: 3,
    left: "<div class='left-item'><img src='https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/2011-01-30_Building_entrance_in_Durham_%28near%29.jpg/1200px-2011-01-30_Building_entrance_in_Durham_%28near%29.jpg' class='word-photo' alt='Entrance'><div class='word-text'>entrance</div></div>",
    right: "–≤—Ö–æ–¥"
  },
  {
    id: 4,
    left: "<div class='left-item'><img src='https://yandex-images.clstorage.net/d5Fue1218/40cfbf80/RdsuAsCjFLk_kJgLVpjvhXNwdPQ5YwstxTPRh-ZBLv24TNG3PSVVCzDq8K_AaSuF2Ir6uAkyHUV1CwVKxZUvFTDfyzbVt0FdT5DJT-Y8LiWycSA17VJfDFVzpBcjMoh6yn7iEKuH92yiTuDqRalaMRwu_E5oR90UMu7mPmQHGaLXqV5BIGFlPI-Dqd70ao_mMdES9ApTX72Ts9DC5OEKyigegfPaNDQOI49jqzT5u6dcL7-s7oX-1-Jcdm01FfjCBph_Y8MRJs79Y-i-xHn9dmESwRT5sL6PoPIAoTdj21n6r4MyGrQWjWAsIAs2ieuGrp8O_dzUn2Whr9d9pocI4TXoziEiM6X_HOBIL9fYrOcjAcEGuiDO_5JSASAkMbtJ2i4gwhokRU2yDDF4hwhp91wdDs0PRcxXQa4V36Q1axLl2L2BY4J0D_3By67HOGxnk4Nzdrgi_49h03DA5JE725sesyNax0ZsEJxBmsR7q5bsXs_fbjYdFOPehi-W9LiwRshuY6Dzphz-Q8uMhdjtFlChItSrohyM0UGi05URmKnbLlBz-LVXDpI_wHhkeFi1fe7P3a1lviYg3Hd_hLSJ8-XontNCU6cfT5HqfdXaP4SggdJnyHKPD4NRofC3oas4yy6RsyoHRX0ybhJodZpqJ62Pbdw85J03oG0Xncf3WJHXSIwjocAlnR4Deb82ql0kMWFDNZpTLo-y46NRFEAbekgvYNDZtGc-kO7xiMSbSZaPz-18ntSNdTLfNB-WlphSBPg_MgOQRJzdAFlvRZgfF3AzUPa6IF9sIpDTcnbzysoKLNCDejY2PiGN4liVWGklbo1N7dzHfMTzzdd-RyS7M7TazHNg8xQPzsIYn8Q73lfxcqM361DeX5OSMrBlIuna6ozy8pjX9b7jD-K6Zfhahd-NLoz8h2-G8w7lzETFueJGSS-TwoC2vvxQC380qp_FIABiZolDzI_iISKhtFBos' class='word-photo' alt='Audition'><div class='word-text'>audition</div></div>",
    right: "–ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ"
  },
  {
    id: 5,
    left: "<div class='left-item'><img src='https://media-cldnry.s-nbcnews.com/image/upload/t_social_share_1024x768_scale,f_auto,q_auto:best/rockcms/2025-01/Wheel-of-Fortune-proposal-te-250110-cf6c28.jpg' class='word-photo' alt='Contestant'><div class='word-text'>contestant</div></div>",
    right: "—É—á–∞—Å—Ç–Ω–∏–∫"
  },
  {
    id: 6,
    left: "<div class='left-item'><img src='https://avatars.mds.yandex.net/i?id=3941702ae857f76d12a7f75022f4ff09_l-5256838-images-thumbs&n=13' class='word-photo' alt='Downstairs'><div class='word-text'>downstairs</div></div>",
    right: "–≤–Ω–∏–∑ –ø–æ –ª–µ—Å—Ç–Ω–∏—Ü–µ"
  },
  {
    id: 7,
    left: "<div class='left-item'><img src='https://i.pinimg.com/originals/ab/6d/44/ab6d44aa9fa6a12011b67e86ad06dfe5.jpg' class='word-photo' alt='Stage'><div class='word-text'>stage</div></div>",
    right: "—Å—Ü–µ–Ω–∞"
  },
 {
    id: 8,
    left: "<div class='left-item'><img src='https://img-webcalypt.ru/uploads/admin/images/meme-templates/7hoFB5TzOwl3hDvcrRbOufO4JCHrupWv.jpg' class='word-photo' alt='Judge'><div class='word-text'>judge</div></div>",
    right: "—Å—É–¥—å—è"
  }
];

let selected=null, correctCount=0;
const totalPairs = allPairs.length;

function initGame(){
  const left = document.getElementById('left');
  const right = document.getElementById('right');
  const lines = document.getElementById('lines');
  const message = document.getElementById('message');
  
  left.innerHTML=""; right.innerHTML=""; lines.innerHTML="";
  correctCount=0;
  message.textContent="Connect each word with its correct translation";

  const shuffled = shuffle(allPairs);
  const leftItems = shuffle(shuffled).map(p=>createItem(p.left,p.id,"left"));
  const rightItems = shuffle(shuffled).map(p=>createItem(p.right,p.id,"right"));

  leftItems.forEach(item=>left.appendChild(item));
  rightItems.forEach(item=>right.appendChild(item));

  setTimeout(() => {
    for(let i=0;i<totalPairs;i++){
      const maxH = Math.max(leftItems[i].offsetHeight, rightItems[i].offsetHeight);
      leftItems[i].style.minHeight = maxH + "px";
      rightItems[i].style.minHeight = maxH + "px";
    }
  }, 100);
}

function createItem(html,id,side){
  const d=document.createElement("div");
  d.className="item " + side;
  d.dataset.id=id;
  d.dataset.side=side;
  d.innerHTML=html;
  d.onclick=()=>selectItem(d);
  
  if(side === "right") {
    const wrapper = document.createElement("div");
    wrapper.className = "right-item";
    wrapper.innerHTML = html;
    d.innerHTML = "";
    d.appendChild(wrapper);
  }
  
  return d;
}

function anchor(el){
  const r=el.getBoundingClientRect();
  const w=wrapper.getBoundingClientRect();
  return el.dataset.side==="left"
    ? {x:r.right-w.left,y:r.top+r.height/2-w.top}
    : {x:r.left-w.left,y:r.top+r.height/2-w.top};
}

function selectItem(el){
  if(el.classList.contains("used"))return;

  if(!selected){
    selected=el;
    el.classList.add("active");
    return;
  }

  if(selected.dataset.side===el.dataset.side){
    selected.classList.remove("active");
    selected=el;
    el.classList.add("active");
    return;
  }

  const p1=anchor(selected),p2=anchor(el);
  const line=document.createElementNS("http://www.w3.org/2000/svg","line");
  line.setAttribute("x1",p1.x);
  line.setAttribute("y1",p1.y);
  line.setAttribute("x2",p2.x);
  line.setAttribute("y2",p2.y);
  line.setAttribute("stroke-width","2");
  lines.appendChild(line);

  if(selected.dataset.id===el.dataset.id){
    line.setAttribute("stroke","#4fa46b");
    selected.classList.add("used");
    el.classList.add("used");
    correctCount++;
    if(correctCount===totalPairs){
      document.getElementById('message').textContent="üéâ All words matched!";
    }
  }else{
    line.setAttribute("stroke","#c05b6d");
    selected.classList.add("shake");
    el.classList.add("shake");
    setTimeout(()=>{
      line.remove();
      selected.classList.remove("shake");
      el.classList.remove("shake");
    },400);
  }

  selected.classList.remove("active");
  selected=null;
}

function shuffle(a){
  return [...a].sort(()=>Math.random()-0.5);
}

initGame();
</script>

</body>
</html>
