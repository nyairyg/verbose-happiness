<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>American Idol: Vocabulary Matching</title>
<style>
/* –í–∞—à–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è */
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,system-ui,sans-serif;color:#333;}
body{background:#f8fafc;min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px}
.wrapper{position:relative;width:1000px;display:flex;justify-content:center;gap:200px;margin-top:20px;align-items:flex-start;}
.column{width:45%;display:flex;flex-direction:column;}
.item{
  background:#f8fafc;
  border:2px solid #e2e8f0;
  border-radius:6px;
  padding:12px; /* –£–≤–µ–ª–∏—á–∏–ª padding –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫ */
  margin-bottom:12px;
  text-align:center;
  cursor:pointer;
  font-weight:600;
  font-size:1.1rem;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ */
  word-wrap: break-word;
  white-space: normal;
  min-height: 120px; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ */
}
.item.used{opacity:.4;pointer-events:none}
.item.active{background:#e8f4fd;border-color:#538e9b}
.item .sentence{font-weight:400;font-size:0.9rem;margin-top:8px;color:#555;}

/* –°—Ç–∏–ª–∏ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π */
.item .word-photo {
  max-width: 100%;
  max-height: 100px;
  object-fit: contain;
  margin-top: 8px;
  margin-bottom: 8px;
  border-radius: 4px;
}

@keyframes shake{0%{transform:translateX(0)}25%{transform:translateX(-5px)}50%{transform:translateX(5px)}75%{transform:translateX(-5px)}100%{transform:translateX(0)}}
.item.shake{animation:shake .4s}
svg{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}
#message{margin-top:20px;font-size:1.2rem;font-weight:600;color:#538e9b}
.emoji { font-size: 4rem; display: inline-block; }
</style>
</head>
<body>

<h2>Americal Idol: Vocabulary Matching</h2>
<p style="font-size:1.1rem;font-weight:600;text-align:center">
Match each word with its meaning.
</p>

<div class="wrapper" id="wrapper">
  <svg id="lines"></svg>
  <div class="column" id="left"></div>
  <div class="column" id="right"></div>
</div>

<div id="message"></div>

<script>
// –ù–æ–≤—ã–π –º–∞—Å—Å–∏–≤ —Å URL –∫–∞—Ä—Ç–∏–Ω–æ–∫
const allPairs = [
{
    id: 1,
    left: "traffic<br><img src='https://avatars.mds.yandex.net/i?id=71cae8bf22cd676fbb9f584496268b9ad54990ff-6419094-images-thumbs&n=13' class='word-photo' alt='Traffic'>",
    right: "–¥–≤–∏–∂–µ–Ω–∏–µ"
  },
  {
    id: 2,
    left: "parking lot<br><img src='https://armada-stroy.by/wp-content/uploads/blagoustroystvo-territorii-organizaciya-parkovochnykh-mest-2.jpg' class='word-photo' alt='Parking lot'>",
    right: "–ø–∞—Ä–∫–æ–≤–∫–∞"
  },
  {
    id: 3,
    left: "entrance<br><img src='https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/2011-01-30_Building_entrance_in_Durham_%28near%29.jpg/1200px-2011-01-30_Building_entrance_in_Durham_%28near%29.jpg' class='word-photo' alt='Entrance'>",
    right: "–≤—Ö–æ–¥"
  },
  {
    id: 4,
    left: "audition<br><img src='https://yandex-images.clstorage.net/d5Fue1218/40cfbf80/RdsuAsCjFLk_kJgLVpjvhXNwdPQ5YwstxTPRh-ZBLv24TNG3PSVVCzDq8K_AaSuF2Ir6uAkyHUV1CwVKxZUvFTDfyzbVt0FdT5DJT-Y8LiWycSA17VJfDFVzpBcjMoh6yn7iEKuH92yiTuDqRalaMRwu_E5oR90UMu7mPmQHGaLXqV5BIGFlPI-Dqd70ao_mMdES9ApTX72Ts9DC5OEKyigegfPaNDQOI49jqzT5u6dcL7-s7oX-1-Jcdm01FfjCBph_Y8MRJs79Y-i-xHn9dmESwRT5sL6PoPIAoTdj21n6r4MyGrQWjWAsIAs2ieuGrp8O_dzUn2Whr9d9pocI4TXoziEiM6X_HOBIL9fYrOcjAcEGuiDO_5JSASAkMbtJ2i4gwhokRU2yDDF4hwhp91wdDs0PRcxXQa4V36Q1axLl2L2BY4J0D_3By67HOGxnk4Nzdrgi_49h03DA5JE725sesyNax0ZsEJxBmsR7q5bsXs_fbjYdFOPehi-W9LiwRshuY6Dzphz-Q8uMhdjtFlChItSrohyM0UGi05URmKnbLlBz-LVXDpI_wHhkeFi1fe7P3a1lviYg3Hd_hLSJ8-XontNCU6cfT5HqfdXaP4SggdJnyHKPD4NRofC3oas4yy6RsyoHRX0ybhJodZpqJ62Pbdw85J03oG0Xncf3WJHXSIwjocAlnR4Deb82ql0kMWFDNZpTLo-y46NRFEAbekgvYNDZtGc-kO7xiMSbSZaPz-18ntSNdTLfNB-WlphSBPg_MgOQRJzdAFlvRZgfF3AzUPa6IF9sIpDTcnbzysoKLNCDejY2PiGN4liVWGklbo1N7dzHfMTzzdd-RyS7M7TazHNg8xQPzsIYn8Q73lfxcqM361DeX5OSMrBlIuna6ozy8pjX9b7jD-K6Zfhahd-NLoz8h2-G8w7lzETFueJGSS-TwoC2vvxQC380qp_FIABiZolDzI_iISKhtFBos' class='word-photo' alt='Audition'>",
    right: "–ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ"
  },
  {
    id: 5,
    left: "contestant<br><img src='https://media-cldnry.s-nbcnews.com/image/upload/t_social_share_1024x768_scale,f_auto,q_auto:best/rockcms/2025-01/Wheel-of-Fortune-proposal-te-250110-cf6c28.jpg' class='word-photo' alt='Contestant'>",
    right: "—É—á–∞—Å—Ç–Ω–∏–∫"
  },
  {
    id: 6,
    left: "downstairs<br><img src='https://avatars.mds.yandex.net/i?id=3941702ae857f76d12a7f75022f4ff09_l-5256838-images-thumbs&n=13' class='word-photo' alt='Downstairs'>",
    right: "–≤–Ω–∏–∑ –ø–æ –ª–µ—Å—Ç–Ω–∏—Ü–µ"
  },
  {
    id: 7,
    left: "stage<br><img src='https://i.pinimg.com/originals/ab/6d/44/ab6d44aa9fa6a12011b67e86ad06dfe5.jpg' class='word-photo' alt='Stage'>",
    right: "—Å—Ü–µ–Ω–∞"
  }
];


let selected=null, correctCount=0;
const totalPairs = allPairs.length;

function initGame(){
  left.innerHTML=""; right.innerHTML=""; lines.innerHTML="";
  correctCount=0;
  message.textContent="Connect all words with the correct emoji";

  const shuffled = shuffle(allPairs);
  const leftItems = shuffle(shuffled).map(p=>createItem(p.left,p.id,"left"));
  const rightItems = shuffle(shuffled).map(p=>createItem(p.right,p.id,"right"));

  leftItems.forEach(item=>left.appendChild(item));
  rightItems.forEach(item=>right.appendChild(item));

  // –î–∞–µ–º –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –∫–∞—Ä—Ç–∏–Ω–∫–∞–º –ø–µ—Ä–µ–¥ —Ä–∞—Å—á–µ—Ç–æ–º –≤—ã—Å–æ—Ç—ã
  setTimeout(() => {
    for(let i=0;i<totalPairs;i++){
      const maxH = Math.max(leftItems[i].offsetHeight, rightItems[i].offsetHeight);
      leftItems[i].style.minHeight = maxH + "px";
      rightItems[i].style.minHeight = maxH + "px";
    }
  }, 100);
}

function createItem(html,id,side){
  const d=document.createElement("div");
  d.className="item "+side;
  d.dataset.id=id;
  d.dataset.side=side;
  d.innerHTML=html;
  d.onclick=()=>selectItem(d);
  
  // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç–∏–Ω–æ–∫ –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  if(side === "left") {
    const img = d.querySelector('img');
    if(img) {
      img.onload = () => {
        // –ü–µ—Ä–µ—Å—á–µ—Ç –≤—ã—Å–æ—Ç—ã –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏
        d.style.minHeight = d.offsetHeight + "px";
      };
    }
  }
  
  return d;
}

// –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
function anchor(el){
  const r=el.getBoundingClientRect();
  const w=wrapper.getBoundingClientRect();
  return el.dataset.side==="left"
    ? {x:r.right-w.left,y:r.top+r.height/2-w.top}
    : {x:r.left-w.left,y:r.top+r.height/2-w.top};
}

function selectItem(el){
  if(el.classList.contains("used"))return;

  if(!selected){
    selected=el;
    el.classList.add("active");
    return;
  }

  if(selected.dataset.side===el.dataset.side){
    selected.classList.remove("active");
    selected=el;
    el.classList.add("active");
    return;
  }

  const p1=anchor(selected),p2=anchor(el);
  const line=document.createElementNS("http://www.w3.org/2000/svg","line");
  line.setAttribute("x1",p1.x);
  line.setAttribute("y1",p1.y);
  line.setAttribute("x2",p2.x);
  line.setAttribute("y2",p2.y);
  line.setAttribute("stroke-width","2");
  lines.appendChild(line);

  if(selected.dataset.id===el.dataset.id){
    line.setAttribute("stroke","#4fa46b");
    selected.classList.add("used");
    el.classList.add("used");
    correctCount++;
    if(correctCount===totalPairs){
      message.textContent="üéâ All words matched!";
    }
  }else{
    line.setAttribute("stroke","#c05b6d");
    selected.classList.add("shake");
    el.classList.add("shake");
    setTimeout(()=>{
      line.remove();
      selected.classList.remove("shake");
      el.classList.remove("shake");
    },400);
  }

  selected.classList.remove("active");
  selected=null;
}

function shuffle(a){
  return [...a].sort(()=>Math.random()-0.5);
}

initGame();
</script>

</body>
</html>
